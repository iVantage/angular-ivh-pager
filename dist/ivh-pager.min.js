angular.module("ivh.pager",[]),angular.module("ivh.pager").directive("ivhPager",function(){"use strict";return{restrict:"AE",scope:{pagerTotal:"=ivhPagerTotal",pagerPageSize:"=ivhPagerPageSize",pagerPageNumber:"=ivhPagerPageNumber"},template:['<ul class="pagination" ng-show="pageRange.length > 1">','<li ng-class="{disabled: pagerPageNumber == 0}">','<a ng-click="goTo(0)">&laquo;</a>',"</li>",'<li ng-hide="start == 0" class="disabled"><a>...</a></li>','<li ng-repeat="ix in pageRange" ng-class="{active: ix == pagerPageNumber}">','<a ng-click="goTo(ix)">',"{{1 + ix}}","</a>","</li>",'<li class="disabled" ng-hide="end == maxPageNumber"><a>...</a></li>','<li ng-class="{disabled: pagerPageNumber == maxPageNumber}">','<a ng-click="goTo(maxPageNumber)">&raquo;</a>',"</li>","</ul>"].join("\n"),link:function(a,b,c){a.pagerPageNumber=a.pagerPageNumber||0;var d=function(){var b=a.pagerTotal,c=a.pagerPageSize||15,d=a.pagerPageNumber||0,e=3,f=3,g=a.maxPageNumber=function(){var a=b/c,d=Math.floor(a);return a===d?--d:d}();if(d*c>b&&(a.pagerPageNumber=0,d=a.pagerPageNumber),a.start=Math.max(d-f,0),a.end=Math.min(d+f,g),0===a.start)for(;a.end-a.start<e+f+1&&a.end!==g;)a.end++;if(g===a.end)for(;a.end-a.start<e+f+1&&0!==a.start;)a.start--;a.pageRange=[];for(var h=a.start;h<a.end+1;h++)a.pageRange.push(h)};a.goTo=function(b){a.pagerPageNumber=b,d()},a.$watch("pagerTotal",d)}}}),angular.module("ivh.pager").filter("ivhPaginate",function(){"use strict";return function(a,b,c){return b=b||0,c=c||15,(a||[]).slice(b*c,(b+1)*c)}});